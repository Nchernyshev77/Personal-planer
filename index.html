<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Persanal Planer</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="app" class="app" data-theme="dark">
    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">✓</div>
        <div class="titles">
          <div class="title">Persanal Planer</div>
        </div>
      </div>

      <div class="actions">
        <button id="btnPip" class="btn ghost action" title="Картинка-в-картинке / поверх окон"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
  <path fill="currentColor" d="M4 6.5A2.5 2.5 0 0 1 6.5 4h11A2.5 2.5 0 0 1 20 6.5v11A2.5 2.5 0 0 1 17.5 20h-11A2.5 2.5 0 0 1 4 17.5v-11Zm2.5-.5a.5.5 0 0 0-.5.5v11c0 .28.22.5.5.5h11c.28 0 .5-.22.5-.5v-11a.5.5 0 0 0-.5-.5h-11Z"/>
  <path fill="currentColor" d="M12.5 12.5h5a1 1 0 0 1 1 1v3.5a1 1 0 0 1-1 1H14a1.5 1.5 0 0 1-1.5-1.5v-4Z"/>
</svg></button>
        <button id="btnHelp" class="btn ghost action" title="Подсказки"><svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
  <path fill="currentColor" d="M12 2.75c5.11 0 9.25 4.14 9.25 9.25S17.11 21.25 12 21.25 2.75 17.11 2.75 12 6.89 2.75 12 2.75Zm0 1.8A7.45 7.45 0 1 0 19.45 12 7.46 7.46 0 0 0 12 4.55Z"/>
  <path fill="currentColor" d="M11.2 14.4h1.6v1.7h-1.6v-1.7Zm.12-7.2c1.98 0 3.48 1.1 3.48 2.86 0 1.1-.56 1.86-1.58 2.52-.8.52-1.02.82-1.02 1.52v.35h-1.6v-.45c0-1.2.4-1.8 1.44-2.45.86-.54 1.16-.96 1.16-1.52 0-.8-.66-1.3-1.88-1.3-1.1 0-1.92.44-2.52 1.2l-1.22-1c.82-1.06 2.08-1.73 3.74-1.73Z"/>
</svg></button>
      </div>
    </header>

    <main class="content">
      <aside class="composer card">
        <form id="addForm" class="add-form" autocomplete="off">
          <textarea id="taskInput" class="input textarea" rows="1" placeholder="Добавить задачу…" maxlength="600"></textarea>
          <button class="btn primary" type="submit">Добавить</button>
        </form>

        <div class="row">
          <div class="chips" aria-label="Цвет метки по умолчанию">
            <span class="label">Цвет:</span>
            <button type="button" class="chip" data-color="none" aria-label="Без"></button>
            <button type="button" class="chip" data-color="blue" aria-label="Синяя"></button>
            <button type="button" class="chip" data-color="yellow" aria-label="Жёлтая"></button>
            <button type="button" class="chip" data-color="red" aria-label="Красная"></button>
            <button type="button" class="chip" data-color="purple" aria-label="Фиолетовая"></button>
            <button type="button" class="chip" data-color="green" aria-label="Зелёная"></button>
          </div>
        </div>

        <div class="row storage">
          <div class="storage-left">
            <button id="btnConnectFile" class="btn" type="button">Подключить tasks.txt</button>
            <div id="saveStatus" class="status under">…</div>
          </div>
        </div>

        <div id="help" class="help" hidden>
          <ul>
            <li><b>Перетаскивание:</b> тяните за «⋮⋮».</li>
            <li><b>Редактирование:</b> клик по тексту → редактируйте прямо в задаче.</li>
            <li><b>Цвет:</b> слева у задачи цветной прямоугольник — клик, чтобы сменить.</li>
            <li><b>Выполнено:</b> галочка появляется только у завершённой задачи.</li>
            <li><b>Время:</b> справа внизу часы на задачу. Вверху — сумма.</li>
          </ul>
        </div>
      </aside>

      <section class="list card">
        <div class="list-head">
          <div class="list-title">Задачи</div>

          <div class="list-tools">
            <div class="total-box" title="Сумма часов по всем задачам">
              <span>Всего</span>
              <b id="totalTime">0 ч</b>
            </div>            <button id="btnClearDone" class="btn ghost" type="button">Удалить выполненные</button>
            <button id="btnClearAll" class="btn ghost danger" type="button">Удалить все</button>
          </div>
        </div>

        <div id="tasks" class="tasks" role="list"></div>

        <div id="empty" class="empty" hidden></div>
      </section>
    </main>
  </div>

  <template id="tplTask">
    <div class="task" role="listitem">
      <button class="drag" type="button" title="Перетащить" aria-label="Перетащить">⋮⋮</button>

      <div class="colorwrap">
        <button class="colorbar" type="button" title="Цвет" aria-label="Цвет"></button>
        <div class="palette" hidden>
        <button type="button" class="pcolor" data-color="none" aria-label="Без"></button>
        <button type="button" class="pcolor" data-color="blue" aria-label="Синяя"></button>
        <button type="button" class="pcolor" data-color="yellow" aria-label="Жёлтая"></button>
        <button type="button" class="pcolor" data-color="red" aria-label="Красная"></button>
        <button type="button" class="pcolor" data-color="purple" aria-label="Фиолетовая"></button>
        <button type="button" class="pcolor" data-color="green" aria-label="Зелёная"></button>
        </div>
      </div>

      <button class="check" type="button" title="Готово" aria-label="Готово"></button>

      <div class="text" role="textbox" tabindex="0"></div>

      <div class="rightSide">
        <button class="del" type="button" title="Удалить" aria-label="Удалить">✕</button>

        <div class="timeWrap" title="Время (часы)">
          <input class="time" type="number" min="0" step="0.25" inputmode="decimal" />
          <span class="timeUnit">ч</span>
        </div>
      </div>
    </div>
  </template>

  <script type="module" src="./app.js"></script>
</body>
</html>
